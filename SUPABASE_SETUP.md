
# ⚡️ E-Commerce Database Setup Instructions

To enable a real, persistent database for your admin panel and product updates, please follow these steps:

### Step 1: Create a Supabase Account
1. Go to [https://supabase.com](https://supabase.com) and create a free account.
2. Click "New Project" and give it a name like "EcommerceDB".
3. Choose a strong database password and save it (you might need it later for migrations, but usually not).
4. Wait for the project to provision (takes ~1-2 minutes).

### Step 2: Get Connection Keys
1. Once your project is ready, go to **Project Settings** (the gear icon at the bottom left).
2. Click on **API** in the sidebar.
3. Under "Project URL", copy the **URL**.
4. Under "Project API keys" -> "anon public", copy the **Key**.

### Step 3: Add Keys to your Project
1. In your code editor, create a new file named `.env` in the root folder of your project (where `package.json` is).
2. Add the following lines, replacing `YOUR_URL` and `YOUR_KEY` with the values you copied:

```env
VITE_SUPABASE_URL=YOUR_URL
VITE_SUPABASE_ANON_KEY=YOUR_KEY
```

3. Restart your dev server (`npm run dev`) if it's running.

### Step 4: Create the Database Tables
Now we need to create the tables to store your products and slides.

1. Go back to your Supabase Dashboard.
2. Click on the **SQL Editor** icon in the left sidebar (looks like a terminal `>_`).
3. Click "New Query".
4. Copy and paste the following SQL code exactly as it is:

```sql
-- Create Products Table
create table products (
  id bigint generated by default as identity primary key,
  name text not null,
  price numeric not null,
  category text not null,
  image text not null,
  description text,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Create Slides Table (for Carousel)
create table slides (
  id bigint generated by default as identity primary key,
  image text not null,
  title text not null,
  description text,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Enable Row Level Security (RLS) - Optional for now but recommended
alter table products enable row level security;
alter table slides enable row level security;

-- Create Policies to allow everyone to READ data
create policy "Enable read access for all users" on products for select using (true);
create policy "Enable read access for all users" on slides for select using (true);

-- Create Policies to allow everyone to INSERT/UPDATE/DELETE (For simplicity in this demo admin panel)
-- In a real production app, you would restrict this to authenticated admins only.
create policy "Enable insert for all users" on products for insert with check (true);
create policy "Enable update for all users" on products for update using (true);
create policy "Enable delete for all users" on products for delete using (true);

create policy "Enable insert for all users" on slides for insert with check (true);
create policy "Enable update for all users" on slides for update using (true);
create policy "Enable delete for all users" on slides for delete using (true);

-- Insert Default Data (Mock Data) so the store isn't empty
insert into products (name, price, category, image, description) values
('Classic Jodhpur Boots', 4500.00, 'Boots', 'https://images.unsplash.com/photo-1628253747716-0c4f5c90fdda?q=80&w=2000&auto=format&fit=crop', 'Handcrafted Jodhpur boots made from premium leather, perfect for formal and casual wear.'),
('Royal Ethnic Mojaris', 3200.00, 'Ethnic', 'https://images.unsplash.com/photo-1603487742131-41f3dd70b935?q=80&w=2000&auto=format&fit=crop', 'Traditional Mojaris with intricate embroidery for that royal Indian touch.'),
('Urban Street Sneakers', 2800.00, 'Sneakers', 'https://images.unsplash.com/photo-1549298916-b41d501d3772?q=80&w=2000&auto=format&fit=crop', 'Stylish everyday sneakers designed for comfort and durability in the city.'),
('Oxford Business Derby', 5500.00, 'Formal', 'https://images.unsplash.com/photo-1614252369475-531eba835eb1?q=80&w=2000&auto=format&fit=crop', 'Elegant Derby shoes crafted for the professional who values style and comfort.');

insert into slides (image, title, description) values
('https://images.unsplash.com/photo-1556906781-9a412961d289?q=80&w=2000&auto=format&fit=crop', 'DROP 01: GENESIS', 'The future of streetwear is here. Limited edition sneakers.'),
('https://images.unsplash.com/photo-1515955656352-a1fa3ffcd111?q=80&w=2000&auto=format&fit=crop', 'RUN THE NIGHT', 'Reflective gear for the nocturnal explorer.');
```

5. Click **Run** (bottom right of the query window).
6. Once it says "Success", your database is ready!

### Step 5: Verify
Reload your website. If you see the products loaded from the database, it worked!
